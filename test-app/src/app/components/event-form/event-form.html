<form [formGroup]="form" (ngSubmit)="submit()" class="event-form">
  <div class="form-group">
    <label for="title">Назва події</label>
    <input id="title" type="text" formControlName="title">
    @if (form.get('title')?.invalid && form.get('title')?.touched) {
      <small class="error">Обов'язкове поле</small>
    }
  </div>

  <div class="form-group">
    <label>Тип події</label>
    <select formControlName="type">
      <option [value]="eEventType.Free">Безкоштовна</option>
      <option [value]="eEventType.Paid">Платна</option>
    </select>
  </div>

  @if (form.get('type')?.value === 'PAID') {
    <div class="form-group">
      <label>Ціна (грн)</label>
      <input type="number" formControlName="price" placeholder="Введіть суму">

      @if (form.get('price')?.invalid && form.get('price')?.touched) {
        <div class="error-text">Вкажіть коректну ціну (мінімум 1 грн)</div>
      }
    </div>
  }

    <div class="form-group">
      <label for="capacity">Місткість</label>
      <input id="capacity" type="number" formControlName="capacity">
    </div>


  <div class="form-row">
    <div class="form-group">
      <label for="startTime">Початок</label>
      <input id="startTime" type="datetime-local" formControlName="startTime">
    </div>

    <div class="form-group">
      <label for="endTime">Кінець</label>
      <input id="endTime" type="datetime-local" formControlName="endTime">
    </div>
  </div>

  <div class="form-actions">
    <a routerLink="/" class="btn-secondary">Скасувати</a>
    <button type="submit" class="btn-primary" [disabled]="form.invalid">Зберегти</button>
  </div>

  <div class="form-row">
  </div>

  @if (form.errors?.['dateRangeInvalid'] && (form.get('startTime')?.touched || form.get('endTime')?.touched)) {
    <div class="error-message">
      Дата завершення має бути пізнішою за дату початку.
    </div>
  }
</form>
